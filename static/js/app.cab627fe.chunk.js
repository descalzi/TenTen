(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{180:function(e,t,n){"use strict";n.r(t);var r=n(15),o=n.n(r),c=n(35),a=n.n(c),i=n(2),u=n.n(i),s=n(112),l=n(30),f=n(41),d=n(179),j=n(88),b=n(11),m=u.a.createContext({theme:"light",toggleTheme:function(){}}),O=n(28),h=n(177),g=Object(O.atom)([]),p=Object(O.atom)([]),y=Object(O.atom)([]),x=Object(O.atom)(0),v=Object(O.atom)(0),w=Object(h.atomWithStorage)("highScore",0),A=Object(O.atom)(!1),C=n(14);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=u.a.useContext(m);return Object(C.jsx)(l.Icon,k(k({},e),{},{name:"light"===t.theme?"sun":"moon"}))},T=function(e){u.a.useContext(m);return Object(C.jsx)(l.Icon,k(k({},e),{},{name:"award"}))},D=function(e){u.a.useContext(m);return Object(C.jsx)(l.Icon,k(k({},e),{},{name:"refresh"}))},q=function(){var e=u.a.useContext(m),t=Object(O.useAtom)(v),n=a()(t,2),r=n[0],o=(n[1],Object(O.useAtomValue)(w)),c=Object(O.useSetAtom)(A);return Object(C.jsx)(l.TopNavigation,{alignment:"center",title:"Ten-Ten",subtitle:"High-Score "+o,accessoryLeft:function(){return Object(C.jsxs)(u.a.Fragment,{children:[Object(C.jsx)(l.TopNavigationAction,{icon:T}),Object(C.jsxs)(l.Text,{children:["Score: ",r]})]})},accessoryRight:function(){var t=u.a.useState(!1),n=a()(t,2),r=n[0],o=n[1];return Object(C.jsxs)(u.a.Fragment,{children:[Object(C.jsx)(l.TopNavigationAction,{icon:P,onPress:e.toggleTheme}),Object(C.jsx)(l.TopNavigationAction,{icon:D,onPress:function(){return o(!0)}}),Object(C.jsx)(f.Modal,{visible:r,onTouchOutside:function(){return o(!1)},modalAnimation:new f.SlideAnimation({slideFrom:"bottom"}),children:Object(C.jsx)(f.ModalContent,{children:Object(C.jsxs)(b.default,{style:{flexDirection:"column"},children:[Object(C.jsx)(b.default,{style:{marginBottom:20,flexDirection:"row",justifyContent:"center"},children:Object(C.jsx)(l.Text,{children:"Reset Game ?"})}),Object(C.jsxs)(b.default,{style:{flexDirection:"row",justifyContent:"center"},children:[Object(C.jsx)(l.Button,{style:{margin:2},onPress:function(){return o(!1)},children:"Nope"}),Object(C.jsx)(l.Button,{style:{margin:2},onPress:function(){c(!0),o(!1)},children:"Yeah!"})]})]})})})]})}})},E=n(32),R=n.n(E),M=n(89),F=function(e,t){for(var n=function e(t){if(0===t.length)return[[]];for(var n=t.pop(),r=e(t),o=[],c=0;c<r.length;c++){var a=r[c];o.push(a),(a=a.slice()).push(n),o.push(a)}return o}(e),r=[],o=0;o<n.length;o++){for(var c=n[o],a=0,i=0;i<c.length;i++)a+=c[i];a===t&&r.push(c)}return r},I=l.StyleService.create({container:{flex:1,flexDirection:"column",alignItems:"stretch"},subcontainer:{flex:1,flexDirection:"column",alignItems:"center",overflowX:"hidden",paddingTop:30},modalContainer:{margin:0,borderRadius:15,borderWidth:1},modalView:{padding:20,borderRadius:15,borderWidth:1,backgroundColor:"color-primary-default"},row:{flexDirection:"row"},column:{flexDirection:"column"},square_base:{width:"39px",height:"39px",alignItems:"center",justifyContent:"center",borderWidth:1,borderRadius:5,margin:"1px"},square_unpressed:{borderColor:"color-primary-default",backgroundColor:"color-primary-transparent-100",color:"color-primary-default"},square_pressed:{borderColor:"color-success-default",backgroundColor:"color-success-transparent-100",color:"color-success-default"},square_disabled:{borderColor:"color-basic-disabled",backgroundColor:"color-basic-transparent-100",color:"color-basic-disabled",cursor:"default"},backdrop:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}),_=Array.from(Array(10)).map((function(){return!1})),B=(Array.from(Array(10)).map((function(){return _})),n(181)),N=function(e){var t=Object(l.useStyleSheet)(I),n=u.a.useState(!1),r=a()(n,2),o=r[0],c=r[1],i=u.a.useState(!1),s=a()(i,2),f=s[0],d=s[1],j=Object(O.useAtom)(g),b=a()(j,2),m=b[0],h=b[1],y=Object(O.useAtom)(p),A=a()(y,2),S=A[0],k=A[1],P=Object(O.useAtom)(x),T=a()(P,2),D=T[0],q=T[1],E=Object(O.useAtom)(v),F=a()(E,2),_=F[0],B=F[1],N=Object(O.useAtom)(w),W=a()(N,2),V=W[0],G=W[1];u.a.useEffect((function(){c(m.includes(e.data)),d(S.includes(e.data))}),[m,e]);var J=u.a.useCallback((function(e){return console.info("Score Check",D,e),D+e>10&&(console.log("Score would pass limit"),!0)}),[D]),L=u.a.useCallback((function(e){return console.info("Score Check",D,e),D+e===10&&(console.log("Row/Col completed. Nice."),!0)}),[D]),H=u.a.useCallback((function(e){h((function(t){return R()(t).concat(e)}))}),[h,m,q,D]),X=u.a.useCallback((function(e){q((function(t){return t-e.value})),h((function(t){var n=R()(t),r=n.indexOf(e);return n.splice(r,1),n}))}),[q,h]),Y=u.a.useCallback((function(e){q((function(t){return t+e}))}),[q]),z=u.a.useCallback((function(){q(0)}),[q]),K=u.a.useCallback((function(e){B((function(t){return t+e})),_+e>V&&G(_+e)}),[B,_,V,G]),Q=u.a.useCallback((function(e){if(!J(e.value)){if(L(e.value)){console.log("disable buttons, update display score, clean pressTracker");var t=R()(m).concat(e);return k((function(e){return e.concat(t)})),h([]),K(D+e.value+t.length),void z()}H(e),Y(e.value)}}),[J,L,Y,H,z,m,D]),U=u.a.useCallback((function(e){return console.log("Square Pressed:",e.value,"coords:",e.row,e.col,m.length),m.includes(e)?(console.log("Removing square"),void X(e)):m.length?1===m.length?(console.log("Adding square row/col allowed"),void(m[0].row!==e.row&&m[0].col!==e.col||Q(e))):(console.log("Adding square only row or col allowed"),void((m[0].row!==m[1].row||m[1].row!==e.row)&&(m[0].col!==m[1].col||m[1].col!==e.col)||Q(e))):(console.log("Adding square"),void Q(e))}),[m,h]);return Object(C.jsx)(M.default,{style:[t.square_base,o?t.square_pressed:f?t.square_disabled:t.square_unpressed],onPress:function(){return!f&&U(e.data)},children:e.data.value})},W=function(e){var t=Object(O.useSetAtom)(y),n=[];return Array.from(Array(10).keys()).forEach((function(t){var r=Math.floor(10*Math.random())||1,o={row:e.row,col:t+1,value:r};n.push(o)})),t((function(e){return e.concat(n)})),Object(C.jsx)(b.default,{style:I.row,children:Object(C.jsx)(C.Fragment,{children:n.map((function(e,t){return Object(C.jsx)(N,{data:e},t)}))})})},V=function(){var e=Object(O.useAtomValue)(A),t=u.a.useMemo((function(){return Object(C.jsx)(C.Fragment,{children:Array.from(Array(10).keys()).map((function(e){return Object(C.jsx)(W,{row:e+1},"row-"+e)}))})}),[e]);return Object(C.jsx)(b.default,{style:I.column,children:t})},G=function(){var e=u.a.useState([]),t=a()(e,2),n=t[0],r=t[1],o=u.a.useState([]),c=a()(o,2),i=c[0],s=c[1],d=u.a.useState(!1),j=a()(d,2),m=j[0],h=j[1],w=Object(O.useSetAtom)(g),S=Object(O.useAtom)(p),k=a()(S,2),P=k[0],T=k[1],D=Object(O.useAtomValue)(y),q=Object(O.useSetAtom)(x),E=Object(O.useSetAtom)(v),R=Object(O.useAtom)(A),M=a()(R,2),_=M[0],N=M[1],W=u.a.useState(!1),G=a()(W,2),J=G[0],L=G[1],H=u.a.useState(!1),X=a()(H,2),Y=X[0],z=X[1],K=u.a.useRef(),Q=u.a.useCallback((function(){w([]),T([]),q(0),E(0),r([]),s([]),console.log("Game reset"),N(!1),h(!1)}),[]);return u.a.useEffect((function(){_&&Q()}),[_,Q]),u.a.useEffect((function(){(i.length||n.length)&&K.current&&K.current.startConfetti()}),[i,n,K]),u.a.useEffect((function(){if(P.length){var e=0;if(Array.from(Array(10).keys()).forEach((function(t){var n=D.filter((function(e){return e.row===t+1&&!P.includes(e)})).map((function(e){return e.value})),r=F(n,10);e+=r.length})),Array.from(Array(10).keys()).forEach((function(t){var n=D.filter((function(e){return e.col===t+1&&!P.includes(e)})).map((function(e){return e.value})),r=F(n,10);e+=r.length})),!e)return void h(!0)}Array.from(Array(10).keys()).forEach((function(e){10!==P.filter((function(t){return t.row===e+1})).length||n.includes(e+1)||(r((function(t){return t.concat(e+1)})),L(!0),setTimeout((function(){return L(!1)}),1500)),10!==P.filter((function(t){return t.col===e+1})).length||i.includes(e+1)||(s((function(t){return t.concat(e+1)})),z(!0),setTimeout((function(){return z(!1)}),1500))}))}),[D,P,n,i]),Object(C.jsxs)(b.default,{style:I.subcontainer,children:[Object(C.jsx)(V,{}),Object(C.jsx)(f.Modal,{visible:J||Y,modalAnimation:new f.SlideAnimation({slideFrom:"bottom"}),children:Object(C.jsx)(f.ModalContent,{children:Object(C.jsx)(b.default,{style:{marginTop:20,marginBottom:20,justifyContent:"center"},children:Object(C.jsxs)(l.Text,{children:["\ud83e\udd73"," ",J&&Y?"Row & Column":J?"Row":"Column"," ","Cleared \ud83e\udd73"]})})})}),Object(C.jsx)(f.Modal,{visible:m,onTouchOutside:function(){return Q()},modalAnimation:new f.SlideAnimation({slideFrom:"bottom"}),children:Object(C.jsx)(f.ModalContent,{children:Object(C.jsxs)(b.default,{style:{flexDirection:"column",justifyContent:"center"},children:[Object(C.jsx)(b.default,{style:{marginTop:20,marginBottom:20,justifyContent:"center"},children:Object(C.jsx)(l.Text,{children:"Finito !! Well done"})}),Object(C.jsx)(b.default,{style:{flexDirection:"row",justifyContent:"center"},children:Object(C.jsx)(l.Button,{style:{margin:2},onPress:function(){Q()},children:"I want to try again"})})]})})}),Object(C.jsx)(B.default,{ref:K,confettiCount:50,duration:3e3})]})};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(){return Object(C.jsxs)(j.default,{style:{flex:1},children:[Object(C.jsx)(q,{}),Object(C.jsx)(l.Divider,{}),Object(C.jsx)(l.Layout,{style:I.container,level:"1",children:Object(C.jsx)(G,{})})]})};t.default=function(){var e=u.a.useState("light"),t=a()(e,2),n=t[0],r=t[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(l.IconRegistry,{icons:d.EvaIconsPack}),Object(C.jsx)(m.Provider,{value:{theme:n,toggleTheme:function(){r("light"===n?"dark":"light")}},children:Object(C.jsxs)(l.ApplicationProvider,L(L({},s),{},{theme:s[n],children:[Object(C.jsx)(H,{}),Object(C.jsx)(f.ModalPortal,{})]}))})]})}},182:function(e,t,n){e.exports=n(796)}},[[182,1,2]]]);
//# sourceMappingURL=app.cab627fe.chunk.js.map