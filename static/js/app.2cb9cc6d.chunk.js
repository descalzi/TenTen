(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{166:function(e,t,r){"use strict";r.r(t);var o=r(12),n=r.n(o),c=r(36),a=r.n(c),u=r(2),s=r.n(u),l=r(107),i=r(31),f=r(165),b=r(84),j=s.a.createContext({theme:"light",toggleTheme:function(){}}),d=r(27),O=r(164),m=Object(d.atom)([]),g=Object(d.atom)([]),h=Object(d.atom)([]),p=Object(d.atom)(0),y=Object(d.atom)(0),x=Object(O.atomWithStorage)("highScore",0),v=Object(d.atom)(!1),w=r(18);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e){var t=s.a.useContext(j);return Object(w.jsx)(i.Icon,S(S({},e),{},{name:"light"===t.theme?"sun":"moon"}))},k=function(e){s.a.useContext(j);return Object(w.jsx)(i.Icon,S(S({},e),{},{name:"award"}))},P=function(e){s.a.useContext(j);return Object(w.jsx)(i.Icon,S(S({},e),{},{name:"refresh"}))},T=function(){var e=s.a.useContext(j),t=Object(d.useAtom)(y),r=a()(t,2),o=r[0],n=(r[1],Object(d.useAtomValue)(x)),c=Object(d.useSetAtom)(v);return Object(w.jsx)(i.TopNavigation,{alignment:"center",title:"Ten-Ten",subtitle:"High-Score "+n,accessoryLeft:function(){return Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)(i.TopNavigationAction,{icon:k}),Object(w.jsxs)(i.Text,{children:["Score: ",o]})]})},accessoryRight:function(){return Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)(i.TopNavigationAction,{icon:C,onPress:e.toggleTheme}),Object(w.jsx)(i.TopNavigationAction,{icon:P,onPress:function(){return c(!0)}})]})}})},q=r(32),D=r.n(q),E=r(11),I=r(85),_=i.StyleService.create({container:{flex:1,flexDirection:"column",alignItems:"stretch"},subcontainer:{flexDirection:"column",alignItems:"center",overflowX:"hidden"},row:{flexDirection:"row"},column:{flexDirection:"column"},square_base:{width:"39px",height:"39px",alignItems:"center",justifyContent:"center",borderWidth:1,borderRadius:5,margin:"1px"},square_unpressed:{borderColor:"color-primary-default",backgroundColor:"color-primary-transparent-100",color:"color-primary-default"},square_pressed:{borderColor:"color-success-default",backgroundColor:"color-success-transparent-100",color:"color-success-default"},square_disabled:{borderColor:"color-basic-disabled",backgroundColor:"color-basic-transparent-100",color:"color-basic-disabled",cursor:"default"}}),R=Array.from(Array(10)).map((function(){return!1})),F=(Array.from(Array(10)).map((function(){return R})),r(167)),M=function(e){var t=Object(i.useStyleSheet)(_),r=s.a.useState(!1),o=a()(r,2),n=o[0],c=o[1],u=s.a.useState(!1),l=a()(u,2),f=l[0],b=l[1],j=Object(d.useAtom)(m),O=a()(j,2),h=O[0],v=O[1],A=Object(d.useAtom)(g),S=a()(A,2),C=S[0],k=S[1],P=Object(d.useAtom)(p),T=a()(P,2),q=T[0],E=T[1],R=Object(d.useAtom)(y),F=a()(R,2),M=F[0],N=F[1],J=Object(d.useAtom)(x),L=a()(J,2),V=L[0],W=L[1];s.a.useEffect((function(){c(h.includes(e.data)),b(C.includes(e.data))}),[h,e]);var G=s.a.useCallback((function(e){return console.info("Score Check",q,e),q+e>10&&(console.log("Score would pass limit"),!0)}),[q]),H=s.a.useCallback((function(e){return console.info("Score Check",q,e),q+e===10&&(console.log("Row/Col completed. Nice."),!0)}),[q]),X=s.a.useCallback((function(e){v((function(t){return D()(t).concat(e)}))}),[v,h,E,q]),z=s.a.useCallback((function(e){E((function(t){return t-e.value})),v((function(t){var r=D()(t),o=r.indexOf(e);return r.splice(o,1),r}))}),[E,v]),B=s.a.useCallback((function(e){E((function(t){return t+e}))}),[E]),K=s.a.useCallback((function(){E(0)}),[E]),Q=s.a.useCallback((function(e){N((function(t){return t+e})),M+e>V&&W(M+e)}),[N,M,V,W]),U=s.a.useCallback((function(e){if(!G(e.value)){if(H(e.value)){console.log("disable buttons, update display score, clean pressTracker");var t=D()(h).concat(e);return k((function(e){return e.concat(t)})),v([]),Q(q+e.value+t.length),void K()}X(e),B(e.value)}}),[G,H,B,X,K,h,q]),Y=s.a.useCallback((function(e){return console.log("Square Pressed:",e.value,"coords:",e.row,e.col,h.length),h.includes(e)?(console.log("Removing square"),void z(e)):h.length?1===h.length?(console.log("Adding square row/col allowed"),void(h[0].row!==e.row&&h[0].col!==e.col||U(e))):(console.log("Adding square only row or col allowed"),void((h[0].row!==h[1].row||h[1].row!==e.row)&&(h[0].col!==h[1].col||h[1].col!==e.col)||U(e))):(console.log("Adding square"),void U(e))}),[h,v]);return Object(w.jsx)(I.default,{style:[t.square_base,n?t.square_pressed:f?t.square_disabled:t.square_unpressed],onPress:function(){return!f&&Y(e.data)},children:e.data.value})},N=function(e){var t=Object(d.useSetAtom)(h),r=[];return Array.from(Array(10).keys()).forEach((function(t){var o=Math.floor(10*Math.random())||1,n={row:e.row,col:t+1,value:o};r.push(n)})),t(r),Object(w.jsx)(E.default,{style:_.row,children:Object(w.jsx)(w.Fragment,{children:r.map((function(e,t){return Object(w.jsx)(M,{data:e},t)}))})})},J=function(){var e=Object(d.useAtomValue)(v),t=s.a.useMemo((function(){return Object(w.jsx)(w.Fragment,{children:Array.from(Array(10).keys()).map((function(e){return Object(w.jsx)(N,{row:e+1},"row-"+e)}))})}),[e]);return Object(w.jsx)(E.default,{style:_.column,children:t})},L=function(){var e=s.a.useState([]),t=a()(e,2),r=t[0],o=t[1],n=s.a.useState([]),c=a()(n,2),u=c[0],l=c[1],f=Object(d.useSetAtom)(m),b=Object(d.useAtom)(g),j=a()(b,2),O=j[0],h=j[1],x=Object(d.useSetAtom)(p),A=Object(d.useSetAtom)(y),S=Object(d.useAtom)(v),C=a()(S,2),k=C[0],P=C[1],T=s.a.useState(!1),q=a()(T,2),D=q[0],I=q[1],R=s.a.useState(!1),M=a()(R,2),N=M[0],L=M[1],V=s.a.useRef(),W=s.a.useCallback((function(){f([]),h([]),x(0),A(0),o([]),l([]),console.log("Game reset"),P(!1)}),[]);return s.a.useEffect((function(){k&&W()}),[k,W]),s.a.useEffect((function(){(u.length||r.length)&&V.current&&V.current.start()}),[u,r,V]),s.a.useEffect((function(){Array.from(Array(10).keys()).forEach((function(e){10!==O.filter((function(t){return t.row===e+1})).length||r.includes(e+1)||(o((function(t){return t.concat(e+1)})),I(!0),setTimeout((function(){return I(!1)}),1500)),10!==O.filter((function(t){return t.col===e+1})).length||r.includes(e+1)||(l((function(t){return t.concat(e+1)})),L(!0),setTimeout((function(){return L(!1)}),1500))}))}),[O]),Object(w.jsxs)(E.default,{style:_.subcontainer,children:[Object(w.jsx)(J,{}),Object(w.jsx)(i.Modal,{visible:D,children:Object(w.jsx)(i.Text,{category:"h2",children:"\ud83e\udd73 Row Completed \ud83e\udd73"})}),Object(w.jsx)(i.Modal,{visible:N,children:Object(w.jsx)(i.Text,{category:"h2",children:"\ud83e\udd73 Column Completed \ud83e\udd73"})}),Object(w.jsx)(F.default,{count:100,origin:{x:-20,y:0},autoStart:!1,fadeOut:!0,ref:V})]})};function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G=function(){return Object(w.jsxs)(b.default,{style:{flex:1},children:[Object(w.jsx)(T,{}),Object(w.jsx)(i.Divider,{}),Object(w.jsx)(i.Layout,{style:_.container,level:"1",children:Object(w.jsx)(L,{})})]})};t.default=function(){var e=s.a.useState("light"),t=a()(e,2),r=t[0],o=t[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.IconRegistry,{icons:f.EvaIconsPack}),Object(w.jsx)(j.Provider,{value:{theme:r,toggleTheme:function(){o("light"===r?"dark":"light")}},children:Object(w.jsx)(i.ApplicationProvider,W(W({},l),{},{theme:l[r],children:Object(w.jsx)(G,{})}))})]})}},168:function(e,t,r){e.exports=r(772)}},[[168,1,2]]]);
//# sourceMappingURL=app.2cb9cc6d.chunk.js.map