(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{166:function(e,t,r){"use strict";r.r(t);var n=r(12),o=r.n(n),c=r(37),a=r.n(c),u=r(2),s=r.n(u),l=r(107),i=r(36),f=r(165),b=r(84),j=s.a.createContext({theme:"light",toggleTheme:function(){}}),d=r(28),O=(Object(d.atom)(0),Object(d.atom)(0),Object(d.atom)(0),Object(d.atom)(!1),Object(d.atom)(!1),Object(d.atom)([])),m=Object(d.atom)([]),g=Object(d.atom)([]),p=Object(d.atom)(0),h=Object(d.atom)(0),y=Object(d.atom)(0),v=r(163),x=r(19);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=function(e){var t=s.a.useContext(j);return Object(x.jsx)(i.Icon,A(A({},e),{},{name:"light"===t.theme?"sun":"moon"}))},C=function(e){s.a.useContext(j);return Object(x.jsx)(i.Icon,A(A({},e),{},{name:"award"}))},P=function(){var e=s.a.useContext(j),t=Object(d.useAtom)(y),r=a()(t,2),n=r[0],o=(r[1],Object(d.useAtom)(h)),c=a()(o,2),u=c[0];c[1];return Object(x.jsx)(i.TopNavigation,{alignment:"center",title:"Ten-Ten",accessoryLeft:function(){return Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsx)(i.TopNavigationAction,{icon:C}),Object(x.jsx)(i.Text,{children:"Score: "}),Object(x.jsx)(v.default,{initial:u,value:n,timing:"easeIn",countBy:1})]})},accessoryRight:function(){return Object(x.jsx)(s.a.Fragment,{children:Object(x.jsx)(i.TopNavigationAction,{icon:k,onPress:e.toggleTheme})})}})},S=r(31),q=r.n(S),D=r(11),E=r(85),T=i.StyleService.create({container:{flex:1,flexDirection:"column",alignItems:"stretch"},subcontainer:{flexDirection:"column",alignItems:"center",overflowX:"hidden"},row:{flexDirection:"row"},column:{flexDirection:"column"},square_base:{width:"39px",height:"39px",alignItems:"center",justifyContent:"center",borderWidth:1,borderRadius:5,margin:"1px"},square_unpressed:{borderColor:"color-primary-default",backgroundColor:"color-primary-transparent-100",color:"color-primary-default"},square_pressed:{borderColor:"color-success-default",backgroundColor:"color-success-transparent-100",color:"color-success-default"},square_disabled:{borderColor:"color-basic-disabled",backgroundColor:"color-basic-transparent-100",color:"color-basic-disabled",cursor:"default"}}),I=Array.from(Array(10)).map((function(){return!1})),_=(Array.from(Array(10)).map((function(){return I})),r(167)),R=function(e){var t=Object(i.useStyleSheet)(T),r=s.a.useState(!1),n=a()(r,2),o=n[0],c=n[1],u=s.a.useState(!1),l=a()(u,2),f=l[0],b=l[1],j=Object(d.useAtom)(O),g=a()(j,2),v=g[0],w=g[1],A=Object(d.useAtom)(m),k=a()(A,2),C=k[0],P=k[1],S=Object(d.useAtom)(p),D=a()(S,2),I=D[0],_=D[1],R=Object(d.useAtom)(y),F=a()(R,2),N=F[0],M=F[1],J=Object(d.useAtom)(h),L=a()(J,2),B=(L[0],L[1]);s.a.useEffect((function(){c(v.includes(e.data)),b(C.includes(e.data))}),[v,e]);var V=s.a.useCallback((function(e){return console.info("Score Check",I,e),I+e>10&&(console.log("Score would pass limit"),!0)}),[I]),W=s.a.useCallback((function(e){return console.info("Score Check",I,e),I+e===10&&(console.log("Row/Col completed. Nice."),!0)}),[I]),X=s.a.useCallback((function(e){w((function(t){return q()(t).concat(e)}))}),[w,v,_,I]),z=s.a.useCallback((function(e){_((function(t){return t-e.value})),w((function(t){var r=q()(t),n=r.indexOf(e);return r.splice(n,1),r}))}),[_,w]),G=s.a.useCallback((function(e){_((function(t){return t+e}))}),[_]),H=s.a.useCallback((function(){_(0)}),[_]),K=s.a.useCallback((function(e){B(N),M((function(t){return t+e}))}),[_,N]),Q=s.a.useCallback((function(e){if(!V(e.value)){if(W(e.value)){console.log("disable buttons, update display score, clean pressTracker");var t=q()(v).concat(e);return P((function(e){return e.concat(t)})),w([]),K(I+e.value+t.length),void H()}X(e),G(e.value)}}),[V,W,G,X,H,v]),U=s.a.useCallback((function(e){return console.log("Square Pressed:",e.value,"coords:",e.row,e.col,v.length),v.includes(e)?(console.log("Removing square"),void z(e)):v.length?1===v.length?(console.log("Adding square row/col allowed"),void(v[0].row!==e.row&&v[0].col!==e.col||Q(e))):(console.log("Adding square only row or col allowed"),void((v[0].row!==v[1].row||v[1].row!==e.row)&&(v[0].col!==v[1].col||v[1].col!==e.col)||Q(e))):(console.log("Adding square"),void Q(e))}),[v,w]);return Object(x.jsx)(E.default,{style:[t.square_base,o?t.square_pressed:f?t.square_disabled:t.square_unpressed],onPress:function(){return!f&&U(e.data)},children:e.data.value})},F=function(e){var t=Object(d.useSetAtom)(g),r=[];return Array.from(Array(10).keys()).forEach((function(t){var n=Math.floor(10*Math.random())||1,o={row:e.row,col:t+1,value:n};r.push(o)})),t(r),Object(x.jsx)(D.default,{style:T.row,children:Object(x.jsx)(x.Fragment,{children:r.map((function(e,t){return Object(x.jsx)(R,{data:e},t)}))})})},N=function(){var e=s.a.useMemo((function(){return Object(x.jsx)(x.Fragment,{children:Array.from(Array(10).keys()).map((function(e){return Object(x.jsx)(F,{row:e+1},"row-"+e)}))})}),[]);return Object(x.jsx)(D.default,{style:T.column,children:e})},M=function(){var e=Object(d.useAtomValue)(m),t=s.a.useState([]),r=a()(t,2),n=r[0],o=r[1],c=s.a.useState([]),u=a()(c,2),l=u[0],i=(u[1],s.a.useRef());return s.a.useEffect((function(){(l.length||n.length)&&i.current&&i.current.start()}),[l,n,i]),s.a.useEffect((function(){Array.from(Array(10).keys()).forEach((function(t){10!==e.filter((function(e){return e.row===t+1})).length||n.includes(t+1)||o((function(e){return e.concat(t+1)})),10!==e.filter((function(e){return e.col===t+1})).length||n.includes(t+1)||o((function(e){return e.concat(t+1)}))}))}),[e]),Object(x.jsxs)(D.default,{style:T.subcontainer,children:[Object(x.jsx)(N,{}),Object(x.jsx)(_.default,{count:200,origin:{x:-20,y:0},autoStart:!1,fadeOut:!0,ref:i})]})};function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(){return Object(x.jsxs)(b.default,{style:{flex:1},children:[Object(x.jsx)(P,{}),Object(x.jsx)(i.Divider,{}),Object(x.jsx)(i.Layout,{style:T.container,level:"1",children:Object(x.jsx)(M,{})})]})};t.default=function(){var e=s.a.useState("light"),t=a()(e,2),r=t[0],n=t[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(i.IconRegistry,{icons:f.EvaIconsPack}),Object(x.jsx)(j.Provider,{value:{theme:r,toggleTheme:function(){n("light"===r?"dark":"light")}},children:Object(x.jsx)(i.ApplicationProvider,L(L({},l),{},{theme:l[r],children:Object(x.jsx)(B,{})}))})]})}},168:function(e,t,r){e.exports=r(772)}},[[168,1,2]]]);
//# sourceMappingURL=app.a8391f9b.chunk.js.map