(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{167:function(e,t,r){"use strict";r.r(t);var n=r(12),o=r.n(n),c=r(34),a=r.n(c),u=r(2),s=r.n(u),i=r(107),l=r(28),f=r(166),b=r(84),d=s.a.createContext({theme:"light",toggleTheme:function(){}}),j=r(27),O=r(164),h=Object(j.atom)([]),m=Object(j.atom)([]),g=Object(j.atom)([]),p=Object(j.atom)(0),y=Object(j.atom)(0),v=Object(O.atomWithStorage)("highScore",0),x=Object(j.atom)(!1),w=r(17);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=function(e){var t=s.a.useContext(d);return Object(w.jsx)(l.Icon,C(C({},e),{},{name:"light"===t.theme?"sun":"moon"}))},S=function(e){s.a.useContext(d);return Object(w.jsx)(l.Icon,C(C({},e),{},{name:"award"}))},P=function(e){s.a.useContext(d);return Object(w.jsx)(l.Icon,C(C({},e),{},{name:"refresh"}))},T=function(){var e=s.a.useContext(d),t=Object(j.useAtom)(y),r=a()(t,2),n=r[0],o=(r[1],Object(j.useAtomValue)(v)),c=Object(j.useSetAtom)(x);return Object(w.jsx)(l.TopNavigation,{alignment:"center",title:"Ten-Ten",subtitle:"High-Score "+o,accessoryLeft:function(){return Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)(l.TopNavigationAction,{icon:S}),Object(w.jsxs)(l.Text,{children:["Score: ",n]})]})},accessoryRight:function(){return Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)(l.TopNavigationAction,{icon:k,onPress:e.toggleTheme}),Object(w.jsx)(l.TopNavigationAction,{icon:P,onPress:function(){return c(!0)}})]})}})},q=r(31),D=r.n(q),E=r(11),R=r(85),I=function(e,t){for(var r=function e(t){if(0===t.length)return[[]];for(var r=t.pop(),n=e(t),o=[],c=0;c<n.length;c++){var a=n[c];o.push(a),(a=a.slice()).push(r),o.push(a)}return o}(e),n=[],o=0;o<r.length;o++){for(var c=r[o],a=0,u=0;u<c.length;u++)a+=c[u];a===t&&n.push(c)}return n},_=l.StyleService.create({container:{flex:1,flexDirection:"column",alignItems:"stretch"},subcontainer:{flex:1,flexDirection:"column",alignItems:"center",overflowX:"hidden",paddingTop:30},modalContainer:{margin:0,borderRadius:15,borderWidth:1},modalView:{padding:20,borderRadius:15,borderWidth:1,backgroundColor:"color-primary-default"},row:{flexDirection:"row"},column:{flexDirection:"column"},square_base:{width:"39px",height:"39px",alignItems:"center",justifyContent:"center",borderWidth:1,borderRadius:5,margin:"1px"},square_unpressed:{borderColor:"color-primary-default",backgroundColor:"color-primary-transparent-100",color:"color-primary-default"},square_pressed:{borderColor:"color-success-default",backgroundColor:"color-success-transparent-100",color:"color-success-default"},square_disabled:{borderColor:"color-basic-disabled",backgroundColor:"color-basic-transparent-100",color:"color-basic-disabled",cursor:"default"},backdrop:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}),F=Array.from(Array(10)).map((function(){return!1})),M=(Array.from(Array(10)).map((function(){return F})),r(168)),N=function(e){var t=Object(l.useStyleSheet)(_),r=s.a.useState(!1),n=a()(r,2),o=n[0],c=n[1],u=s.a.useState(!1),i=a()(u,2),f=i[0],b=i[1],d=Object(j.useAtom)(h),O=a()(d,2),g=O[0],x=O[1],A=Object(j.useAtom)(m),C=a()(A,2),k=C[0],S=C[1],P=Object(j.useAtom)(p),T=a()(P,2),q=T[0],E=T[1],I=Object(j.useAtom)(y),F=a()(I,2),M=F[0],N=F[1],V=Object(j.useAtom)(v),W=a()(V,2),B=W[0],G=W[1];s.a.useEffect((function(){c(g.includes(e.data)),b(k.includes(e.data))}),[g,e]);var J=s.a.useCallback((function(e){return console.info("Score Check",q,e),q+e>10&&(console.log("Score would pass limit"),!0)}),[q]),L=s.a.useCallback((function(e){return console.info("Score Check",q,e),q+e===10&&(console.log("Row/Col completed. Nice."),!0)}),[q]),H=s.a.useCallback((function(e){x((function(t){return D()(t).concat(e)}))}),[x,g,E,q]),X=s.a.useCallback((function(e){E((function(t){return t-e.value})),x((function(t){var r=D()(t),n=r.indexOf(e);return r.splice(n,1),r}))}),[E,x]),z=s.a.useCallback((function(e){E((function(t){return t+e}))}),[E]),K=s.a.useCallback((function(){E(0)}),[E]),Q=s.a.useCallback((function(e){N((function(t){return t+e})),M+e>B&&G(M+e)}),[N,M,B,G]),U=s.a.useCallback((function(e){if(!J(e.value)){if(L(e.value)){console.log("disable buttons, update display score, clean pressTracker");var t=D()(g).concat(e);return S((function(e){return e.concat(t)})),x([]),Q(q+e.value+t.length),void K()}H(e),z(e.value)}}),[J,L,z,H,K,g,q]),Y=s.a.useCallback((function(e){return console.log("Square Pressed:",e.value,"coords:",e.row,e.col,g.length),g.includes(e)?(console.log("Removing square"),void X(e)):g.length?1===g.length?(console.log("Adding square row/col allowed"),void(g[0].row!==e.row&&g[0].col!==e.col||U(e))):(console.log("Adding square only row or col allowed"),void((g[0].row!==g[1].row||g[1].row!==e.row)&&(g[0].col!==g[1].col||g[1].col!==e.col)||U(e))):(console.log("Adding square"),void U(e))}),[g,x]);return Object(w.jsx)(R.default,{style:[t.square_base,o?t.square_pressed:f?t.square_disabled:t.square_unpressed],onPress:function(){return!f&&Y(e.data)},children:e.data.value})},V=function(e){var t=Object(j.useSetAtom)(g),r=[];return Array.from(Array(10).keys()).forEach((function(t){var n=Math.floor(10*Math.random())||1,o={row:e.row,col:t+1,value:n};r.push(o)})),t((function(e){return e.concat(r)})),Object(w.jsx)(E.default,{style:_.row,children:Object(w.jsx)(w.Fragment,{children:r.map((function(e,t){return Object(w.jsx)(N,{data:e},t)}))})})},W=function(){var e=Object(j.useAtomValue)(x),t=s.a.useMemo((function(){return Object(w.jsx)(w.Fragment,{children:Array.from(Array(10).keys()).map((function(e){return Object(w.jsx)(V,{row:e+1},"row-"+e)}))})}),[e]);return Object(w.jsx)(E.default,{style:_.column,children:t})},B=function(){var e=s.a.useState([]),t=a()(e,2),r=t[0],n=t[1],o=s.a.useState([]),c=a()(o,2),u=c[0],i=c[1],f=s.a.useState(!1),b=a()(f,2),d=b[0],O=b[1],v=Object(j.useSetAtom)(h),A=Object(j.useAtom)(m),C=a()(A,2),k=C[0],S=C[1],P=Object(j.useAtomValue)(g),T=Object(j.useSetAtom)(p),q=Object(j.useSetAtom)(y),D=Object(j.useAtom)(x),R=a()(D,2),F=R[0],N=R[1],V=s.a.useState(!1),B=a()(V,2),G=B[0],J=B[1],L=s.a.useState(!1),H=a()(L,2),X=H[0],z=H[1],K=s.a.useRef(),Q=s.a.useCallback((function(){v([]),S([]),T(0),q(0),n([]),i([]),console.log("Game reset"),N(!1),O(!1)}),[]);return s.a.useEffect((function(){F&&Q()}),[F,Q]),s.a.useEffect((function(){(u.length||r.length)&&K.current&&K.current.startConfetti()}),[u,r,K]),s.a.useEffect((function(){if(k.length){var e=0;if(Array.from(Array(10).keys()).forEach((function(t){var r=P.filter((function(e){return e.row===t+1&&!k.includes(e)})).map((function(e){return e.value})),n=I(r,10);e+=n.length})),Array.from(Array(10).keys()).forEach((function(t){var r=P.filter((function(e){return e.col===t+1&&!k.includes(e)})).map((function(e){return e.value})),n=I(r,10);e+=n.length})),!e)return void O(!0)}Array.from(Array(10).keys()).forEach((function(e){10!==k.filter((function(t){return t.row===e+1})).length||r.includes(e+1)||(n((function(t){return t.concat(e+1)})),J(!0),setTimeout((function(){return J(!1)}),1500)),10!==k.filter((function(t){return t.col===e+1})).length||u.includes(e+1)||(i((function(t){return t.concat(e+1)})),z(!0),setTimeout((function(){return z(!1)}),1500))}))}),[P,k,r,u]),Object(w.jsxs)(E.default,{style:_.subcontainer,children:[Object(w.jsx)(W,{}),Object(w.jsx)(l.Modal,{visible:G||X,children:Object(w.jsx)(l.Card,{disabled:!0,style:_.modalContainer,children:Object(w.jsx)(E.default,{style:_.modalView,children:Object(w.jsxs)(l.Text,{category:"h3",children:["\ud83e\udd73",G&&G?"Row & Column":G?"Row":"Column"," ","Completed \ud83e\udd73"]})})})}),Object(w.jsx)(l.Modal,{visible:d,backdropStyle:_.backdrop,onBackdropPress:Q,children:Object(w.jsxs)(l.Card,{disabled:!0,children:[Object(w.jsx)(l.Text,{children:"Game over"}),Object(w.jsx)(l.Button,{onPress:function(){return Q()},children:"Restart"})]})}),Object(w.jsx)(M.default,{ref:K,confettiCount:50,duration:3e3})]})};function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(){return Object(w.jsxs)(b.default,{style:{flex:1},children:[Object(w.jsx)(T,{}),Object(w.jsx)(l.Divider,{}),Object(w.jsx)(l.Layout,{style:_.container,level:"1",children:Object(w.jsx)(B,{})})]})};t.default=function(){var e=s.a.useState("light"),t=a()(e,2),r=t[0],n=t[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.IconRegistry,{icons:f.EvaIconsPack}),Object(w.jsx)(d.Provider,{value:{theme:r,toggleTheme:function(){n("light"===r?"dark":"light")}},children:Object(w.jsx)(l.ApplicationProvider,J(J({},i),{},{theme:i[r],children:Object(w.jsx)(L,{})}))})]})}},169:function(e,t,r){e.exports=r(773)}},[[169,1,2]]]);
//# sourceMappingURL=app.84bd1cce.chunk.js.map