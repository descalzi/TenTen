(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{166:function(e,t,r){"use strict";r.r(t);var o=r(12),n=r.n(o),c=r(38),a=r.n(c),u=r(2),s=r.n(u),l=r(107),i=r(36),f=r(165),b=r(84),j=s.a.createContext({theme:"light",toggleTheme:function(){}}),d=r(28),O=r(164),g=(Object(d.atom)(0),Object(d.atom)(0),Object(d.atom)(0),Object(d.atom)(!1),Object(d.atom)(!1),Object(d.atom)([])),m=Object(d.atom)([]),p=Object(d.atom)([]),h=Object(d.atom)(0),y=Object(d.atom)(0),v=Object(O.atomWithStorage)("highScore",0),x=r(21);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=function(e){var t=s.a.useContext(j);return Object(x.jsx)(i.Icon,A(A({},e),{},{name:"light"===t.theme?"sun":"moon"}))},C=function(e){s.a.useContext(j);return Object(x.jsx)(i.Icon,A(A({},e),{},{name:"award"}))},S=function(){var e=s.a.useContext(j),t=Object(d.useAtom)(y),r=a()(t,2),o=r[0],n=(r[1],Object(d.useAtomValue)(v));return Object(x.jsx)(i.TopNavigation,{alignment:"center",title:"Ten-Ten",subtitle:"High-Score "+n,accessoryLeft:function(){return Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsx)(i.TopNavigationAction,{icon:C}),Object(x.jsxs)(i.Text,{children:["Score: ",o]})]})},accessoryRight:function(){return Object(x.jsx)(s.a.Fragment,{children:Object(x.jsx)(i.TopNavigationAction,{icon:k,onPress:e.toggleTheme})})}})},P=r(31),q=r.n(P),D=r(11),E=r(85),T=i.StyleService.create({container:{flex:1,flexDirection:"column",alignItems:"stretch"},subcontainer:{flexDirection:"column",alignItems:"center",overflowX:"hidden"},row:{flexDirection:"row"},column:{flexDirection:"column"},square_base:{width:"39px",height:"39px",alignItems:"center",justifyContent:"center",borderWidth:1,borderRadius:5,margin:"1px"},square_unpressed:{borderColor:"color-primary-default",backgroundColor:"color-primary-transparent-100",color:"color-primary-default"},square_pressed:{borderColor:"color-success-default",backgroundColor:"color-success-transparent-100",color:"color-success-default"},square_disabled:{borderColor:"color-basic-disabled",backgroundColor:"color-basic-transparent-100",color:"color-basic-disabled",cursor:"default"}}),_=Array.from(Array(10)).map((function(){return!1})),I=(Array.from(Array(10)).map((function(){return _})),r(167)),R=function(e){var t=Object(i.useStyleSheet)(T),r=s.a.useState(!1),o=a()(r,2),n=o[0],c=o[1],u=s.a.useState(!1),l=a()(u,2),f=l[0],b=l[1],j=Object(d.useAtom)(g),O=a()(j,2),p=O[0],w=O[1],A=Object(d.useAtom)(m),k=a()(A,2),C=k[0],S=k[1],P=Object(d.useAtom)(h),D=a()(P,2),_=D[0],I=D[1],R=Object(d.useAtom)(y),F=a()(R,2),N=F[0],M=F[1],J=Object(d.useAtom)(v),L=a()(J,2),V=L[0],W=L[1];s.a.useEffect((function(){c(p.includes(e.data)),b(C.includes(e.data))}),[p,e]);var H=s.a.useCallback((function(e){return console.info("Score Check",_,e),_+e>10&&(console.log("Score would pass limit"),!0)}),[_]),X=s.a.useCallback((function(e){return console.info("Score Check",_,e),_+e===10&&(console.log("Row/Col completed. Nice."),!0)}),[_]),z=s.a.useCallback((function(e){w((function(t){return q()(t).concat(e)}))}),[w,p,I,_]),B=s.a.useCallback((function(e){I((function(t){return t-e.value})),w((function(t){var r=q()(t),o=r.indexOf(e);return r.splice(o,1),r}))}),[I,w]),G=s.a.useCallback((function(e){I((function(t){return t+e}))}),[I]),K=s.a.useCallback((function(){I(0)}),[I]),Q=s.a.useCallback((function(e){M((function(t){return t+e})),N+e>V&&W(N+e)}),[M,N,V,W]),U=s.a.useCallback((function(e){if(!H(e.value)){if(X(e.value)){console.log("disable buttons, update display score, clean pressTracker");var t=q()(p).concat(e);return S((function(e){return e.concat(t)})),w([]),Q(_+e.value+t.length),void K()}z(e),G(e.value)}}),[H,X,G,z,K,p,_]),Y=s.a.useCallback((function(e){return console.log("Square Pressed:",e.value,"coords:",e.row,e.col,p.length),p.includes(e)?(console.log("Removing square"),void B(e)):p.length?1===p.length?(console.log("Adding square row/col allowed"),void(p[0].row!==e.row&&p[0].col!==e.col||U(e))):(console.log("Adding square only row or col allowed"),void((p[0].row!==p[1].row||p[1].row!==e.row)&&(p[0].col!==p[1].col||p[1].col!==e.col)||U(e))):(console.log("Adding square"),void U(e))}),[p,w]);return Object(x.jsx)(E.default,{style:[t.square_base,n?t.square_pressed:f?t.square_disabled:t.square_unpressed],onPress:function(){return!f&&Y(e.data)},children:e.data.value})},F=function(e){var t=Object(d.useSetAtom)(p),r=[];return Array.from(Array(10).keys()).forEach((function(t){var o=Math.floor(10*Math.random())||1,n={row:e.row,col:t+1,value:o};r.push(n)})),t(r),Object(x.jsx)(D.default,{style:T.row,children:Object(x.jsx)(x.Fragment,{children:r.map((function(e,t){return Object(x.jsx)(R,{data:e},t)}))})})},N=function(){var e=s.a.useMemo((function(){return Object(x.jsx)(x.Fragment,{children:Array.from(Array(10).keys()).map((function(e){return Object(x.jsx)(F,{row:e+1},"row-"+e)}))})}),[]);return Object(x.jsx)(D.default,{style:T.column,children:e})},M=function(){var e=Object(d.useAtomValue)(m),t=s.a.useState([]),r=a()(t,2),o=r[0],n=r[1],c=s.a.useState([]),u=a()(c,2),l=u[0],i=(u[1],s.a.useRef());return s.a.useEffect((function(){(l.length||o.length)&&i.current&&i.current.start()}),[l,o,i]),s.a.useEffect((function(){Array.from(Array(10).keys()).forEach((function(t){10!==e.filter((function(e){return e.row===t+1})).length||o.includes(t+1)||n((function(e){return e.concat(t+1)})),10!==e.filter((function(e){return e.col===t+1})).length||o.includes(t+1)||n((function(e){return e.concat(t+1)}))}))}),[e]),Object(x.jsxs)(D.default,{style:T.subcontainer,children:[Object(x.jsx)(N,{}),Object(x.jsx)(I.default,{count:200,origin:{x:-20,y:0},autoStart:!1,fadeOut:!0,ref:i})]})};function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=function(){return Object(x.jsxs)(b.default,{style:{flex:1},children:[Object(x.jsx)(S,{}),Object(x.jsx)(i.Divider,{}),Object(x.jsx)(i.Layout,{style:T.container,level:"1",children:Object(x.jsx)(M,{})})]})};t.default=function(){var e=s.a.useState("light"),t=a()(e,2),r=t[0],o=t[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(i.IconRegistry,{icons:f.EvaIconsPack}),Object(x.jsx)(j.Provider,{value:{theme:r,toggleTheme:function(){o("light"===r?"dark":"light")}},children:Object(x.jsx)(i.ApplicationProvider,L(L({},l),{},{theme:l[r],children:Object(x.jsx)(V,{})}))})]})}},168:function(e,t,r){e.exports=r(772)}},[[168,1,2]]]);
//# sourceMappingURL=app.2ba47ad7.chunk.js.map