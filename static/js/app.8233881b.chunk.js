(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{166:function(e,t,r){"use strict";r.r(t);var o=r(12),n=r.n(o),c=r(39),a=r.n(c),u=r(2),s=r.n(u),l=r(107),i=r(36),f=r(165),b=r(84),j=s.a.createContext({theme:"light",toggleTheme:function(){}}),d=r(30),O=r(164),g=(Object(d.atom)(0),Object(d.atom)(0),Object(d.atom)(0),Object(d.atom)(!1),Object(d.atom)(!1),Object(d.atom)([])),m=Object(d.atom)([]),p=Object(d.atom)([]),h=Object(d.atom)(0),y=Object(d.atom)(0),v=(Object(O.atomWithStorage)("highScore",0),r(21));function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=function(e){var t=s.a.useContext(j);return Object(v.jsx)(i.Icon,w(w({},e),{},{name:"light"===t.theme?"sun":"moon"}))},A=function(e){s.a.useContext(j);return Object(v.jsx)(i.Icon,w(w({},e),{},{name:"award"}))},C=function(){var e=s.a.useContext(j),t=Object(d.useAtom)(y),r=a()(t,2),o=r[0];r[1];return Object(v.jsx)(i.TopNavigation,{alignment:"center",title:"Ten-Ten",accessoryLeft:function(){return Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsx)(i.TopNavigationAction,{icon:A}),Object(v.jsxs)(i.Text,{children:["`Score: $",o,"`"]})]})},accessoryRight:function(){return Object(v.jsx)(s.a.Fragment,{children:Object(v.jsx)(i.TopNavigationAction,{icon:k,onPress:e.toggleTheme})})}})},P=r(31),S=r.n(P),q=r(11),D=r(85),E=i.StyleService.create({container:{flex:1,flexDirection:"column",alignItems:"stretch"},subcontainer:{flexDirection:"column",alignItems:"center",overflowX:"hidden"},row:{flexDirection:"row"},column:{flexDirection:"column"},square_base:{width:"39px",height:"39px",alignItems:"center",justifyContent:"center",borderWidth:1,borderRadius:5,margin:"1px"},square_unpressed:{borderColor:"color-primary-default",backgroundColor:"color-primary-transparent-100",color:"color-primary-default"},square_pressed:{borderColor:"color-success-default",backgroundColor:"color-success-transparent-100",color:"color-success-default"},square_disabled:{borderColor:"color-basic-disabled",backgroundColor:"color-basic-transparent-100",color:"color-basic-disabled",cursor:"default"}}),T=Array.from(Array(10)).map((function(){return!1})),_=(Array.from(Array(10)).map((function(){return T})),r(167)),I=function(e){var t=Object(i.useStyleSheet)(E),r=s.a.useState(!1),o=a()(r,2),n=o[0],c=o[1],u=s.a.useState(!1),l=a()(u,2),f=l[0],b=l[1],j=Object(d.useAtom)(g),O=a()(j,2),p=O[0],x=O[1],w=Object(d.useAtom)(m),k=a()(w,2),A=k[0],C=k[1],P=Object(d.useAtom)(h),q=a()(P,2),T=q[0],_=q[1],I=Object(d.useAtom)(y),R=a()(I,2),F=(R[0],R[1]);s.a.useEffect((function(){c(p.includes(e.data)),b(A.includes(e.data))}),[p,e]);var N=s.a.useCallback((function(e){return console.info("Score Check",T,e),T+e>10&&(console.log("Score would pass limit"),!0)}),[T]),M=s.a.useCallback((function(e){return console.info("Score Check",T,e),T+e===10&&(console.log("Row/Col completed. Nice."),!0)}),[T]),J=s.a.useCallback((function(e){x((function(t){return S()(t).concat(e)}))}),[x,p,_,T]),L=s.a.useCallback((function(e){_((function(t){return t-e.value})),x((function(t){var r=S()(t),o=r.indexOf(e);return r.splice(o,1),r}))}),[_,x]),W=s.a.useCallback((function(e){_((function(t){return t+e}))}),[_]),V=s.a.useCallback((function(){_(0)}),[_]),X=s.a.useCallback((function(e){F((function(t){return t+e}))}),[F]),$=s.a.useCallback((function(e){if(!N(e.value)){if(M(e.value)){console.log("disable buttons, update display score, clean pressTracker");var t=S()(p).concat(e);return C((function(e){return e.concat(t)})),x([]),X(T+e.value+t.length),void V()}J(e),W(e.value)}}),[N,M,W,J,V,p,T]),z=s.a.useCallback((function(e){return console.log("Square Pressed:",e.value,"coords:",e.row,e.col,p.length),p.includes(e)?(console.log("Removing square"),void L(e)):p.length?1===p.length?(console.log("Adding square row/col allowed"),void(p[0].row!==e.row&&p[0].col!==e.col||$(e))):(console.log("Adding square only row or col allowed"),void((p[0].row!==p[1].row||p[1].row!==e.row)&&(p[0].col!==p[1].col||p[1].col!==e.col)||$(e))):(console.log("Adding square"),void $(e))}),[p,x]);return Object(v.jsx)(D.default,{style:[t.square_base,n?t.square_pressed:f?t.square_disabled:t.square_unpressed],onPress:function(){return!f&&z(e.data)},children:e.data.value})},R=function(e){var t=Object(d.useSetAtom)(p),r=[];return Array.from(Array(10).keys()).forEach((function(t){var o=Math.floor(10*Math.random())||1,n={row:e.row,col:t+1,value:o};r.push(n)})),t(r),Object(v.jsx)(q.default,{style:E.row,children:Object(v.jsx)(v.Fragment,{children:r.map((function(e,t){return Object(v.jsx)(I,{data:e},t)}))})})},F=function(){var e=s.a.useMemo((function(){return Object(v.jsx)(v.Fragment,{children:Array.from(Array(10).keys()).map((function(e){return Object(v.jsx)(R,{row:e+1},"row-"+e)}))})}),[]);return Object(v.jsx)(q.default,{style:E.column,children:e})},N=function(){var e=Object(d.useAtomValue)(m),t=s.a.useState([]),r=a()(t,2),o=r[0],n=r[1],c=s.a.useState([]),u=a()(c,2),l=u[0],i=(u[1],s.a.useRef());return s.a.useEffect((function(){(l.length||o.length)&&i.current&&i.current.start()}),[l,o,i]),s.a.useEffect((function(){Array.from(Array(10).keys()).forEach((function(t){10!==e.filter((function(e){return e.row===t+1})).length||o.includes(t+1)||n((function(e){return e.concat(t+1)})),10!==e.filter((function(e){return e.col===t+1})).length||o.includes(t+1)||n((function(e){return e.concat(t+1)}))}))}),[e]),Object(v.jsxs)(q.default,{style:E.subcontainer,children:[Object(v.jsx)(F,{}),Object(v.jsx)(_.default,{count:200,origin:{x:-20,y:0},autoStart:!1,fadeOut:!0,ref:i})]})};function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(){return Object(v.jsxs)(b.default,{style:{flex:1},children:[Object(v.jsx)(C,{}),Object(v.jsx)(i.Divider,{}),Object(v.jsx)(i.Layout,{style:E.container,level:"1",children:Object(v.jsx)(N,{})})]})};t.default=function(){var e=s.a.useState("light"),t=a()(e,2),r=t[0],o=t[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(i.IconRegistry,{icons:f.EvaIconsPack}),Object(v.jsx)(j.Provider,{value:{theme:r,toggleTheme:function(){o("light"===r?"dark":"light")}},children:Object(v.jsx)(i.ApplicationProvider,J(J({},l),{},{theme:l[r],children:Object(v.jsx)(L,{})}))})]})}},168:function(e,t,r){e.exports=r(772)}},[[168,1,2]]]);
//# sourceMappingURL=app.8233881b.chunk.js.map