{"version":3,"sources":["theme-context.tsx","Atoms/index.tsx","TopBar/index.tsx","helpers.tsx","styles.tsx","const.tsx","PlayArea/index.tsx","App.tsx"],"names":["ThemeContext","React","createContext","theme","toggleTheme","pressTrackerAtom","atom","disableTrackerAtom","allSquaresAtom","sessionScoreAtom","displayScoreAtom","highScoreAtom","atomWithStorage","resetGameFlagAtom","ThemeIcon","props","themeContext","useContext","name","AwardIcon","ReloadIcon","TopBar","useAtom","displayScore","highScore","useAtomValue","setResetGameFlag","useSetAtom","alignment","title","subtitle","accessoryLeft","Fragment","icon","accessoryRight","useState","showConfirmGameReset","setShowConfirmGameReset","onPress","visible","onTouchOutside","modalAnimation","SlideAnimation","slideFrom","View","style","flexDirection","marginBottom","justifyContent","margin","sumEquals","arr","number","powerset","powerSet","length","lastElement","pop","restPowerset","i","set","push","slice","subsets","subset","sum","j","playAreaStyles","StyleService","create","container","flex","alignItems","subcontainer","overflowX","paddingTop","modalContainer","borderRadius","borderWidth","modalView","padding","backgroundColor","row","column","square_base","width","height","square_unpressed","borderColor","color","square_pressed","square_disabled","cursor","backdrop","COL_BASE","Array","from","map","SingleSquare","styles","useStyleSheet","isActive","setIsActive","isDisabled","setIsDisabled","pressTracker","setPressTracker","disableTracker","setDisableTracker","sessionScore","setSessionScore","setDisplayScore","setHighScore","useEffect","includes","data","isPressAboveLimit","useCallback","value","console","info","log","isPressFullScore","addToTracker","prev","concat","delFromTracker","newTracker","index","indexOf","splice","increaseScore","addScore","resetScore","increaseDisplayScore","checkAndAction","squaresDone","handlePress","col","Pressable","SquareRow","setAllSquares","allSquares","keys","forEach","squareValue","Math","floor","random","squareData","AllSquares","resetGameFlag","AllRowsAndCols","useMemo","PlayArea","completedRow","setCompletedRow","completedCol","setCompletedCol","completedGame","setCompletedGame","modalRowVisible","setModalRowVisible","modalColVisible","setModalColVisible","confettiRef","useRef","resetGame","current","startConfetti","totalCombos","position","checkingRow","filter","square","remainingRowCombos","checkingCol","remainingColCombos","setTimeout","marginTop","ref","confettiCount","duration","HomeScreen","SafeAreaView","level","setTheme","icons","EvaIconsPack","Provider","eva"],"mappings":"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","file":"static/js/app.cab627fe.chunk.js","sourcesContent":["import React from \"react\"\nimport * as eva from \"@eva-design/eva\"\nimport {\n  ApplicationProvider,\n  Layout,\n  IconRegistry,\n  Text,\n  Divider\n} from \"@ui-kitten/components\"\nimport { EvaIconsPack } from \"@ui-kitten/eva-icons\"\nimport { SafeAreaView } from \"react-native\"\nimport { TopBar } from \"./TopBar\"\nimport { PlayArea } from \"./PlayArea\"\n\nexport const ThemeContext = React.createContext({\n  theme: 'light',\n  toggleTheme: () => {},\n})\n","import { atom } from \"jotai\"\nimport { atomWithStorage } from \"jotai/utils\"\nimport { SquareDataType, COL_BASE, ROW_COL_BASE } from \"../const\"\n\n// export const activeRowAtom = atom<number>(0)\n// export const activeColAtom = atom<number>(0)\n// export const activeSquaresAtom = atom<number>(0)\n// export const rowLockAtom = atom<boolean>(false)\n// export const colLockAtom = atom<boolean>(false)\n// button trackers\nexport const pressTrackerAtom = atom<SquareDataType[]>([])\nexport const disableTrackerAtom = atom<SquareDataType[]>([])\nexport const allSquaresAtom = atom<SquareDataType[]>([])\n// score\nexport const sessionScoreAtom = atom<number>(0)\nexport const displayScoreAtom = atom<number>(0)\nexport const highScoreAtom = atomWithStorage<number>(\"highScore\", 0)\n// game control\nexport const resetGameFlagAtom = atom<boolean>(false)\n","import React from \"react\"\nimport {\n    TopNavigation,\n    TopNavigationAction,\n    Icon,\n    Text,\n    IconProps,\n    Button,\n} from \"@ui-kitten/components\"\nimport { Modal, ModalContent, SlideAnimation } from \"react-native-modals\"\nimport { View } from \"react-native\"\nimport { ThemeContext } from \"../theme-context\"\nimport { useAtom, useAtomValue, useSetAtom } from \"jotai\"\nimport { displayScoreAtom, highScoreAtom, resetGameFlagAtom } from \"../Atoms\"\n\nconst ThemeIcon = (props: IconProps) => {\n    const themeContext = React.useContext(ThemeContext)\n    return <Icon {...props} name={themeContext.theme === \"light\" ? \"sun\" : \"moon\"} />\n}\n\nconst AwardIcon = (props: IconProps) => {\n    const themeContext = React.useContext(ThemeContext)\n    return <Icon {...props} name=\"award\" />\n}\n\nconst ReloadIcon = (props: IconProps) => {\n    const themeContext = React.useContext(ThemeContext)\n    return <Icon {...props} name=\"refresh\" />\n}\n\nexport const TopBar = () => {\n    const themeContext = React.useContext(ThemeContext)\n    const [displayScore, setDisplayScore] = useAtom(displayScoreAtom)\n    const highScore = useAtomValue(highScoreAtom)\n    const setResetGameFlag = useSetAtom(resetGameFlagAtom)\n\n    const topLeftActions = () => (\n        <React.Fragment>\n            <TopNavigationAction icon={AwardIcon} />\n            <Text>Score: {displayScore}</Text>\n        </React.Fragment>\n    )\n\n    const topRightActions = () => {\n        const [showConfirmGameReset, setShowConfirmGameReset] = React.useState<boolean>(false)\n        return (\n            <React.Fragment>\n                <TopNavigationAction icon={ThemeIcon} onPress={themeContext.toggleTheme} />\n                <TopNavigationAction\n                    icon={ReloadIcon}\n                    onPress={() => setShowConfirmGameReset(true)}\n                />\n                <Modal\n                    visible={showConfirmGameReset}\n                    onTouchOutside={() => setShowConfirmGameReset(false)}\n                    modalAnimation={\n                        new SlideAnimation({\n                            slideFrom: \"bottom\",\n                        })\n                    }\n                >\n                    <ModalContent>\n                        <View\n                            style={{\n                                flexDirection: \"column\",\n                            }}\n                        >\n                            <View\n                                style={{\n                                    marginBottom: 20,\n                                    flexDirection: \"row\",\n                                    justifyContent: \"center\",\n                                }}\n                            >\n                                <Text>Reset Game ?</Text>\n                            </View>\n                            <View\n                                style={{\n                                    flexDirection: \"row\",\n                                    justifyContent: \"center\",\n                                }}\n                            >\n                                <Button\n                                    style={{ margin: 2 }}\n                                    onPress={() => setShowConfirmGameReset(false)}\n                                >\n                                    Nope\n                                </Button>\n                                <Button\n                                    style={{ margin: 2 }}\n                                    onPress={() => {\n                                        setResetGameFlag(true)\n                                        setShowConfirmGameReset(false)\n                                    }}\n                                >\n                                    Yeah!\n                                </Button>\n                            </View>\n                        </View>\n                    </ModalContent>\n                </Modal>\n            </React.Fragment>\n        )\n    }\n\n    return (\n        <TopNavigation\n            alignment=\"center\"\n            title=\"Ten-Ten\"\n            subtitle={`High-Score ${highScore}`}\n            accessoryLeft={topLeftActions}\n            accessoryRight={topRightActions}\n        />\n    )\n}\n","const powerSet = (arr: number[]) => {\n    // the power set of [] is [[]]\n    if (arr.length === 0) {\n        return [[]]\n    }\n\n    // remove and remember the last element of the array\n    var lastElement = arr.pop()\n\n    // take the powerset of the rest of the array\n    var restPowerset = powerSet(arr)\n\n    // for each set in the power set of arr minus its last element,\n    // include that set in the powerset of arr both with and without\n    // the last element of arr\n    var powerset = []\n    for (let i = 0; i < restPowerset.length; i++) {\n        var set = restPowerset[i]\n\n        // without last element\n        powerset.push(set)\n\n        // with last element\n        set = set.slice() // create a new array that's a copy of set\n        set.push(lastElement)\n        powerset.push(set)\n    }\n\n    return powerset\n}\n\nexport const sumEquals = (arr: number[], number: number) => {\n    // all subsets of arr\n    var powerset = powerSet(arr)\n\n    // subsets summing less than or equal to number\n    var subsets = []\n\n    for (let i = 0; i < powerset.length; i++) {\n        var subset = powerset[i]\n\n        var sum = 0\n        for (var j = 0; j < subset.length; j++) {\n            sum += subset[j]\n        }\n\n        if (sum === number) {\n            subsets.push(subset)\n        }\n    }\n\n    return subsets\n}\n","import { StyleService } from \"@ui-kitten/components\"\n\nexport const playAreaStyles = StyleService.create({\n    container: {\n        flex: 1,\n        flexDirection: \"column\",\n        alignItems: \"stretch\",\n    },\n    subcontainer: {\n        flex: 1,\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        overflowX: \"hidden\",\n        paddingTop: 30,\n    },\n    modalContainer: {\n        margin: 0,\n        borderRadius: 15,\n        borderWidth: 1,\n    },\n    modalView: {\n        padding: 20,\n        borderRadius: 15,\n        borderWidth: 1,\n        backgroundColor: \"color-primary-default\",\n    },\n    row: {\n        flexDirection: \"row\",\n    },\n    column: {\n        flexDirection: \"column\",\n    },\n    square_base: {\n        width: \"39px\",\n        height: \"39px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        borderWidth: 1,\n        borderRadius: 5,\n        margin: \"1px\",\n    },\n    square_unpressed: {\n        borderColor: \"color-primary-default\",\n        backgroundColor: \"color-primary-transparent-100\",\n        color: \"color-primary-default\",\n    },\n    square_pressed: {\n        borderColor: \"color-success-default\",\n        backgroundColor: \"color-success-transparent-100\",\n        color: \"color-success-default\",\n    },\n    square_disabled: {\n        borderColor: \"color-basic-disabled\",\n        backgroundColor: \"color-basic-transparent-100\",\n        color: \"color-basic-disabled\",\n        cursor: \"default\",\n    },\n    backdrop: {\n        backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    },\n})\n","export const PLAYAREA_COLS = 10\nexport const PLAYAREA_ROWS = 10\nexport const COL_BASE: boolean[] = Array.from(Array(PLAYAREA_COLS)).map(() => false)\nexport const ROW_COL_BASE: boolean[][] = Array.from(Array(PLAYAREA_ROWS)).map(()=> COL_BASE)\n\nexport type SquareDataType = {\n    row: number,\n    col: number,\n    value: number\n  }","import React from \"react\"\nimport { View, Pressable } from \"react-native\"\nimport { useStyleSheet, Button, Text, Card } from \"@ui-kitten/components\"\nimport { Modal, ModalContent, SlideAnimation } from \"react-native-modals\"\nimport { useAtom, useAtomValue, useSetAtom } from \"jotai\"\nimport { sumEquals } from \"../helpers\"\nimport {\n    allSquaresAtom,\n    displayScoreAtom,\n    disableTrackerAtom,\n    sessionScoreAtom,\n    pressTrackerAtom,\n    highScoreAtom,\n    resetGameFlagAtom,\n} from \"../Atoms\"\nimport { playAreaStyles } from \"../styles\"\nimport { SquareDataType, PLAYAREA_COLS, PLAYAREA_ROWS } from \"../const\"\nimport Confetti from \"react-native-confetti\"\n\ninterface SingleSquareProps {\n    data: SquareDataType\n}\nconst SingleSquare = (props: SingleSquareProps) => {\n    const styles = useStyleSheet(playAreaStyles)\n    const [isActive, setIsActive] = React.useState<boolean>(false)\n    const [isDisabled, setIsDisabled] = React.useState<boolean>(false)\n    const [pressTracker, setPressTracker] = useAtom(pressTrackerAtom)\n    const [disableTracker, setDisableTracker] = useAtom(disableTrackerAtom)\n    const [sessionScore, setSessionScore] = useAtom(sessionScoreAtom)\n    const [displayScore, setDisplayScore] = useAtom(displayScoreAtom)\n    const [highScore, setHighScore] = useAtom(highScoreAtom)\n\n    React.useEffect(() => {\n        setIsActive(pressTracker.includes(props.data))\n        setIsDisabled(disableTracker.includes(props.data))\n    }, [pressTracker, props])\n\n    const isPressAboveLimit = React.useCallback(\n        (value: number) => {\n            console.info(\"Score Check\", sessionScore, value)\n            if (sessionScore + value > 10) {\n                console.log(\"Score would pass limit\")\n                return true\n            }\n            return false\n        },\n        [sessionScore]\n    )\n\n    const isPressFullScore = React.useCallback(\n        (value: number) => {\n            console.info(\"Score Check\", sessionScore, value)\n            if (sessionScore + value === 10) {\n                console.log(\"Row/Col completed. Nice.\")\n                return true\n            }\n            return false\n        },\n        [sessionScore]\n    )\n\n    const addToTracker = React.useCallback(\n        (data: SquareDataType) => {\n            setPressTracker((prev: SquareDataType[]) => {\n                const newTracker = [...prev].concat(data)\n                return newTracker\n            })\n        },\n        [setPressTracker, pressTracker, setSessionScore, sessionScore]\n    )\n\n    const delFromTracker = React.useCallback(\n        (data: SquareDataType) => {\n            setSessionScore((prev: number) => prev - data.value)\n            setPressTracker((prev: SquareDataType[]) => {\n                const newTracker = [...prev]\n                const index = newTracker.indexOf(data)\n                newTracker.splice(index, 1)\n                return newTracker\n            })\n        },\n        [setSessionScore, setPressTracker]\n    )\n\n    const increaseScore = React.useCallback(\n        (addScore: number) => {\n            setSessionScore((prev: number) => prev + addScore)\n        },\n        [setSessionScore]\n    )\n\n    const resetScore = React.useCallback(() => {\n        setSessionScore(0)\n    }, [setSessionScore])\n\n    const increaseDisplayScore = React.useCallback(\n        (addScore: number) => {\n            setDisplayScore((prev: number) => prev + addScore)\n            if (displayScore + addScore > highScore) setHighScore(displayScore + addScore)\n        },\n        [setDisplayScore, displayScore, highScore, setHighScore]\n    )\n\n    const checkAndAction = React.useCallback(\n        (data: SquareDataType) => {\n            if (isPressAboveLimit(data.value)) return\n            if (isPressFullScore(data.value)) {\n                console.log(\"disable buttons, update display score, clean pressTracker\")\n                // disable buttons, clean tracker\n                const squaresDone = [...pressTracker].concat(data)\n                setDisableTracker((prev: SquareDataType[]) => prev.concat(squaresDone))\n                setPressTracker([])\n                // Set display score\n                increaseDisplayScore(sessionScore + data.value + squaresDone.length)\n                resetScore()\n                return\n            }\n            addToTracker(data)\n            increaseScore(data.value)\n        },\n        [\n            isPressAboveLimit,\n            isPressFullScore,\n            increaseScore,\n            addToTracker,\n            resetScore,\n            pressTracker,\n            sessionScore,\n        ]\n    )\n\n    const handlePress = React.useCallback(\n        (data: SquareDataType) => {\n            console.log(\n                \"Square Pressed:\",\n                data.value,\n                \"coords:\",\n                data.row,\n                data.col,\n                pressTracker.length\n            )\n            // De-Selection\n            if (pressTracker.includes(data)) {\n                console.log(\"Removing square\")\n                delFromTracker(data)\n                return\n            }\n            // No selections\n            if (!pressTracker.length) {\n                console.log(\"Adding square\")\n                checkAndAction(data)\n                return\n            }\n            // 1 square, can add col or row\n            if (pressTracker.length === 1) {\n                console.log(\"Adding square row/col allowed\")\n                if (pressTracker[0].row === data.row || pressTracker[0].col === data.col) {\n                    checkAndAction(data)\n                }\n                return\n            }\n            console.log(\"Adding square only row or col allowed\")\n            if (pressTracker[0].row === pressTracker[1].row && pressTracker[1].row === data.row) {\n                checkAndAction(data)\n                return\n            }\n            if (pressTracker[0].col === pressTracker[1].col && pressTracker[1].col === data.col) {\n                checkAndAction(data)\n                return\n            }\n        },\n        [pressTracker, setPressTracker]\n    )\n\n    return (\n        <Pressable\n            style={[\n                styles.square_base,\n                isActive\n                    ? styles.square_pressed\n                    : isDisabled\n                    ? styles.square_disabled\n                    : styles.square_unpressed,\n            ]}\n            onPress={() => !isDisabled && handlePress(props.data)}\n        >\n            {props.data.value}\n        </Pressable>\n    )\n}\n\ninterface SquareRowProps {\n    row: number\n}\nconst SquareRow = (props: SquareRowProps) => {\n    const setAllSquares = useSetAtom(allSquaresAtom)\n\n    let allSquares: SquareDataType[] = []\n\n    Array.from(Array(PLAYAREA_COLS).keys()).forEach((index: number) => {\n        const squareValue: number = Math.floor(Math.random() * 10) || 1\n        const squareData: SquareDataType = {\n            row: props.row,\n            col: index + 1,\n            value: squareValue,\n        }\n        allSquares.push(squareData)\n    })\n\n    setAllSquares((prev: SquareDataType[]) => prev.concat(allSquares))\n\n    return (\n        <View style={playAreaStyles.row}>\n            <>\n                {allSquares.map((squareData: SquareDataType, index: number) => {\n                    return <SingleSquare key={index} data={squareData} />\n                })}\n            </>\n        </View>\n    )\n}\n\nconst AllSquares = () => {\n    const resetGameFlag = useAtomValue(resetGameFlagAtom)\n    const AllRowsAndCols = React.useMemo(() => {\n        return (\n            <>\n                {Array.from(Array(PLAYAREA_ROWS).keys()).map((index: number) => {\n                    return <SquareRow key={`row-${index}`} row={index + 1} />\n                })}\n            </>\n        )\n    }, [resetGameFlag])\n\n    return <View style={playAreaStyles.column}>{AllRowsAndCols}</View>\n}\n\nexport const PlayArea = () => {\n    const [completedRow, setCompletedRow] = React.useState<number[]>([])\n    const [completedCol, setCompletedCol] = React.useState<number[]>([])\n    const [completedGame, setCompletedGame] = React.useState<boolean>(false)\n    const setPressTracker = useSetAtom(pressTrackerAtom)\n    const [disableTracker, setDisableTracker] = useAtom(disableTrackerAtom)\n    const allSquares = useAtomValue(allSquaresAtom)\n    const setSessionScore = useSetAtom(sessionScoreAtom)\n    const setDisplayScore = useSetAtom(displayScoreAtom)\n    const [resetGameFlag, setResetGameFlag] = useAtom(resetGameFlagAtom)\n    const [modalRowVisible, setModalRowVisible] = React.useState<boolean>(false)\n    const [modalColVisible, setModalColVisible] = React.useState<boolean>(false)\n\n    const confettiRef = React.useRef()\n\n    const resetGame = React.useCallback(() => {\n        setPressTracker([])\n        setDisableTracker([])\n        setSessionScore(0)\n        setDisplayScore(0)\n        setCompletedRow([])\n        setCompletedCol([])\n        console.log(\"Game reset\")\n        setResetGameFlag(false)\n        setCompletedGame(false)\n    }, [])\n\n    React.useEffect(() => {\n        if (resetGameFlag) resetGame()\n    }, [resetGameFlag, resetGame])\n\n    React.useEffect(() => {\n        if (!completedCol.length && !completedRow.length) return\n        if (!confettiRef.current) return\n        confettiRef.current.startConfetti()\n    }, [completedCol, completedRow, confettiRef])\n\n    React.useEffect(() => {\n        if (disableTracker.length) {\n            // Any matches still available ?\n            let totalCombos = 0\n            Array.from(Array(PLAYAREA_ROWS).keys()).forEach((position: number) => {\n                const checkingRow = allSquares\n                    .filter(\n                        (square: SquareDataType) =>\n                            square.row === position + 1 && !disableTracker.includes(square)\n                    )\n                    .map((square: SquareDataType) => square.value)\n                // console.log(\"CHECKING\", checkingRow)\n                const remainingRowCombos = sumEquals(checkingRow, 10)\n                // console.log(\"Remaining Row Combos\", remainingRowCombos.length)\n                totalCombos += remainingRowCombos.length\n            })\n            Array.from(Array(PLAYAREA_COLS).keys()).forEach((position: number) => {\n                const checkingCol = allSquares\n                    .filter(\n                        (square: SquareDataType) =>\n                            square.col === position + 1 && !disableTracker.includes(square)\n                    )\n                    .map((square: SquareDataType) => square.value)\n                // console.log(\"CHECKING\", checkingCol)\n                const remainingColCombos = sumEquals(checkingCol, 10)\n                // console.log(\"Remaining Col Combos\", remainingColCombos.length)\n                totalCombos += remainingColCombos.length\n            })\n            if (!totalCombos) {\n                setCompletedGame(true)\n                return\n            }\n        }\n\n        Array.from(Array(10).keys()).forEach((position: number) => {\n            // Row completed\n            if (\n                disableTracker.filter((square: SquareDataType) => square.row === position + 1)\n                    .length === 10 &&\n                !completedRow.includes(position + 1)\n            ) {\n                setCompletedRow((prev: number[]) => prev.concat(position + 1))\n                setModalRowVisible(true)\n                setTimeout(() => setModalRowVisible(false), 1500)\n            }\n            // Column completed\n            if (\n                disableTracker.filter((square: SquareDataType) => square.col === position + 1)\n                    .length === 10 &&\n                !completedCol.includes(position + 1)\n            ) {\n                setCompletedCol((prev: number[]) => prev.concat(position + 1))\n                setModalColVisible(true)\n                setTimeout(() => setModalColVisible(false), 1500)\n            }\n        })\n    }, [allSquares, disableTracker, completedRow, completedCol])\n\n    return (\n        <View style={playAreaStyles.subcontainer}>\n            <AllSquares />\n            {/* <Modal visible={modalRowVisible || modalColVisible}>\n                <Card disabled={true} style={playAreaStyles.modalContainer}>\n                    <View style={playAreaStyles.modalView}>\n                        <Text category=\"h3\">\n                            🥳\n                            {modalRowVisible && modalColVisible\n                                ? \"Row & Column\"\n                                : modalRowVisible\n                                ? \"Row\"\n                                : \"Column\"}{\" \"}\n                            Completed 🥳\n                        </Text>\n                    </View>\n                </Card>\n            </Modal> */}\n\n            <Modal\n                visible={modalRowVisible || modalColVisible}\n                // onTouchOutside={() => setShowConfirmGameReset(false)}\n                modalAnimation={\n                    new SlideAnimation({\n                        slideFrom: \"bottom\",\n                    })\n                }\n            >\n                <ModalContent>\n                    <View\n                        style={{\n                            marginTop: 20,\n                            marginBottom: 20,\n                            justifyContent: \"center\",\n                        }}\n                    >\n                        <Text>\n                            🥳{\" \"}\n                            {modalRowVisible && modalColVisible\n                                ? \"Row & Column\"\n                                : modalRowVisible\n                                ? \"Row\"\n                                : \"Column\"}{\" \"}\n                            Cleared 🥳\n                        </Text>\n                    </View>\n                </ModalContent>\n            </Modal>\n            <Modal\n                visible={completedGame}\n                onTouchOutside={() => resetGame()}\n                modalAnimation={\n                    new SlideAnimation({\n                        slideFrom: \"bottom\",\n                    })\n                }\n            >\n                <ModalContent>\n                    <View\n                        style={{\n                            flexDirection: \"column\",\n                            justifyContent: \"center\",\n                        }}\n                    >\n                        <View\n                            style={{\n                                marginTop: 20,\n                                marginBottom: 20,\n                                justifyContent: \"center\",\n                            }}\n                        >\n                            <Text>Finito !! Well done</Text>\n                        </View>\n                        <View\n                            style={{\n                                flexDirection: \"row\",\n                                justifyContent: \"center\",\n                            }}\n                        >\n                            <Button\n                                style={{ margin: 2 }}\n                                onPress={() => {\n                                    resetGame()\n                                }}\n                            >\n                                I want to try again\n                            </Button>\n                        </View>\n                    </View>\n                </ModalContent>\n            </Modal>\n\n            <Confetti ref={confettiRef} confettiCount={50} duration={3000} />\n        </View>\n    )\n}\n","import React from \"react\"\nimport * as eva from \"@eva-design/eva\"\nimport { ApplicationProvider, IconRegistry, Divider, Layout } from \"@ui-kitten/components\"\nimport { ModalPortal } from \"react-native-modals\"\nimport { EvaIconsPack } from \"@ui-kitten/eva-icons\"\nimport { SafeAreaView } from \"react-native\"\nimport { TopBar } from \"./TopBar\"\nimport { PlayArea } from \"./PlayArea\"\nimport { ThemeContext } from \"./theme-context\"\nimport { playAreaStyles } from \"./styles\"\n\nconst HomeScreen = () => {\n    const blah = 1\n\n    return (\n        <SafeAreaView style={{ flex: 1 }}>\n            <TopBar />\n            <Divider />\n            <Layout style={playAreaStyles.container} level=\"1\">\n                <PlayArea />\n            </Layout>\n        </SafeAreaView>\n    )\n}\n\nexport default () => {\n    const [theme, setTheme] = React.useState(\"light\")\n\n    const toggleTheme = () => {\n        const nextTheme = theme === \"light\" ? \"dark\" : \"light\"\n        setTheme(nextTheme)\n    }\n\n    return (\n        <>\n            <IconRegistry icons={EvaIconsPack} />\n            <ThemeContext.Provider value={{ theme, toggleTheme }}>\n                <ApplicationProvider {...eva} theme={eva[theme]}>\n                    <HomeScreen />\n                    <ModalPortal />\n                </ApplicationProvider>\n            </ThemeContext.Provider>\n        </>\n    )\n}\n"],"sourceRoot":""}